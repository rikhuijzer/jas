# To get the login:
#
# $ snapcraft login
#
# Not using `snaps=jas` because that's only allowed after the snap is created,
# but to do that, I first need to export the login.
#
# $ snapcraft export-login \
#      --acls package_access,package_push,package_update,package_release \
#      jas.secret
#
# For the first time, I went into an Ubuntu Hetzner image and ran:
# $ sudo apt update
# $ sudo apt install neovim
# $ sudo snap install snapcraft --classic
# $ mv snapcraft.yaml ../ # sigh
# $ cd ../
# $ snapcraft

name: jas
version: '0.2.0'
summary: Just an installer
description: |
   This tool is meant to be used in situations where you want to install a
   binary in a reliable way, that is, by specifying the SHA-256 checksum. The
   checksum ensures that the binary is exactly the one you expect it to be.
confinement: strict
base: core22
grade: devel
license: MIT

parts:
  jas:
    build-packages:
      - pkg-config
      - cargo
    plugin: rust
    source: .

apps:
  jas:
    command: bin/jas
    plugs:
      - network
      - home
